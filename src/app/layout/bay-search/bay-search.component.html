<div class="container">
    <form [formGroup]="baySearchForm">
        <div class="col-lg-12 col-sm-12 col-12">
            <div class="form-group col-lg-12 col-sm-12 col-12">
                <label for="Building">Building id:</label>
                <input type="text" class="form-control" formControlName="building" id="building">
            </div>
            <div class="form-group col-lg-12 col-sm-11 col-11">
                <label for="Floor">Floor id:</label>
                <input type="text" class="form-control" formControlName="floor" id="floor">
            </div>
            <div class="form-group col-lg-12 col-sm-11 col-11">
                <label for="Bay">Bay id:</label>
                <input type="text" class="form-control" formControlName="bay" id="bay">
            </div>
        </div>
        <button class="btn btn-primary size" [disabled]="!baySearchForm.valid" (click)="onSearch(baySearchForm)">Search</button>
        <button class="btn btn-primary size" (click)="clearForm()">Reset</button>
    </form>

    <div class="col-lg-12 col-sm-11 col-11">
        <div class="input-group mt-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="inputGroupSelect01">Building</label>
          </div>
          <select class="custom-select" id="inputGroupSelect01" [(ngModel)]="selectedBuilding" formControlName="building" (change)="onBuildingChange()">
            <option *ngFor="let building of buildingList"  [ngValue]="building">{{building}}</option>
          </select>
        </div>
        <span class="text-danger show" *ngIf="importSeatLayoutForm.controls.building.errors">Please select the value of Building</span>
        <div class="input-group mt-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="inputGroupSelect01">Floor Id&nbsp;</label>
          </div>
          <select class="custom-select" id="inputGroupSelect01" [(ngModel)]="selectedFloor" (change)="onFloorChange()" formControlName="floor">
            <option *ngFor="let floor of floorList"  [ngValue]="floor">{{floor}}</option>
          </select>
        </div>
        <span class="text-danger show" *ngIf="importSeatLayoutForm.controls.floor.errors">Please select the value of Floor</span>
        <div class="input-group mt-3">
          <div class="input-group-prepend">
            <label class="input-group-text" for="inputGroupSelect01">Bay &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
          </div>
          <select class="custom-select" id="inputGroupSelect01" formControlName="bay" [(ngModel)]="selectedBay">
            <option *ngFor="let bay of bayList"  [ngValue]="bay">{{bay}}</option>
          </select>
        </div>
        <span class="text-danger show" *ngIf="importSeatLayoutForm.controls.bay.errors">Please select the value of Bay</span>
    
        <div class="input-group mt-3 alert alert-danger" role="alert" *ngIf="importSeatLayoutForm.controls.building.errors || importSeatLayoutForm.controls.floor.errors
        || importSeatLayoutForm.controls.bay.errors">
          Please select all the mandatory fields in top to bottom order
        </div>
        <div class="input-group mt-3" *ngIf="! (importSeatLayoutForm.controls.building.errors || importSeatLayoutForm.controls.floor.errors || importSeatLayoutForm.controls.bay.errors)">
          <div class="custom-file">
            <input type="file" #inputFile class="custom-file-input file" id="inputGroupFile" (change)="fileChange($event)">
            <label class="custom-file-label" for="inputGroupFile" accept=".csv">{{selectedFileName}}</label>
          </div>
        </div>
      </div>
    <app-bay-layout [seats]="seats"></app-bay-layout> 
</div>